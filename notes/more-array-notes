Array notes 2.0

Simple-arrays as-is

Array-headers are now array-likes:

array-like-header|fill-pointer|info|storage|dimensions...

Array-like length - 3 is the rank.
array-total-size is size of the stored array or (apply #'* (array-dimensions it)).
memory arrays store the fixnum object address in the storage slot and the
element-type in the info slot.
displaced arrays store the displaced-index in the info slot and the
backing array in the storage slot.

Fill-pointer is only valid for vectors.

array-like-header: length(56)|unused(1)|art(6)|gc(1)
